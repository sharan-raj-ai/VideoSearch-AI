graph TD
    %% High Contrast Dark Mode (Subtle AI)
    %% Background: #0d1117 (GitHub Dark)
    %% Lines/Text: #ffffff (Pure White for max contrast)
    
    classDef default fill:#161b22,stroke:#ffffff,stroke-width:2px,color:#ffffff;
    %% External: Subtle Slate Grey (GitHub Secondary)
    classDef external fill:#0d1117,stroke:#8b949e,stroke-width:1px,stroke-dasharray: 4 4,color:#8b949e;

    User([User])
    Frontend[Next.js Frontend]
    API[FastAPI Backend]
    Redis[Redis Job Queue]
    Worker[RQ Background Worker]
    Storage[(Local Storage)]
    Qdrant[(Qdrant Vector DB)]
    
    subgraph AI_Cloud [External AI Cloud]
        direction TB
        style AI_Cloud fill:#0d1117,stroke:#30363d,stroke-width:1px,stroke-dasharray: 5 5,color:#8b949e
        GroqV[Groq Vision\nLlama-4]:::external
        GroqA[Groq Audio\nWhisper]:::external
        Jina[Jina Embeddings]:::external
    end

    %% Force link style to be white
    linkStyle default stroke:#ffffff,stroke-width:2px;

    User <-->|HTTP| Frontend
    Frontend <-->|HTTP| API
    
    API -->|Enqueue| Redis
    API -->|Write| Storage
    
    Redis -->|Dequeue| Worker
    Worker -->|Read| Storage
    
    Worker -->|Frames| GroqV
    Worker -->|Audio| GroqA
    Worker -->|Text| Jina
    
    GroqV & GroqA -->|Data| Jina
    Jina -->|Vectors| Qdrant
    
    API <-->|Search| Qdrant
